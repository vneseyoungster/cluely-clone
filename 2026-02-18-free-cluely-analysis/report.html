<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>free-cluely Analysis Report</title>
  <style>
    :root {
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --bg-card: #334155;
      --text-primary: #f1f5f9;
      --text-secondary: #94a3b8;
      --text-muted: #64748b;
      --accent: #3b82f6;
      --accent-hover: #2563eb;
      --success: #22c55e;
      --warning: #f59e0b;
      --danger: #ef4444;
      --border: #475569;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    /* Header */
    header {
      background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
      border-bottom: 1px solid var(--border);
      padding: 3rem 0;
      margin-bottom: 2rem;
    }

    header .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .logo-icon {
      width: 48px;
      height: 48px;
      background: var(--accent);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: bold;
    }

    h1 {
      font-size: 2rem;
      font-weight: 700;
    }

    .subtitle {
      color: var(--text-secondary);
      font-size: 1rem;
    }

    .meta {
      text-align: right;
      color: var(--text-secondary);
      font-size: 0.875rem;
    }

    /* Navigation */
    nav {
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    nav ul {
      list-style: none;
      display: flex;
      gap: 0.5rem;
      padding: 0.75rem 2rem;
      max-width: 1200px;
      margin: 0 auto;
      overflow-x: auto;
    }

    nav a {
      color: var(--text-secondary);
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-size: 0.875rem;
      white-space: nowrap;
      transition: all 0.2s;
    }

    nav a:hover {
      background: var(--bg-card);
      color: var(--text-primary);
    }

    /* Sections */
    section {
      margin-bottom: 3rem;
    }

    h2 {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      padding-bottom: 0.75rem;
      border-bottom: 2px solid var(--accent);
      display: inline-block;
    }

    h3 {
      font-size: 1.125rem;
      margin: 1.5rem 0 1rem;
      color: var(--text-primary);
    }

    h4 {
      font-size: 1rem;
      margin: 1rem 0 0.5rem;
      color: var(--text-secondary);
    }

    /* Cards */
    .card {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1rem;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1rem;
    }

    .card-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .card-icon {
      width: 40px;
      height: 40px;
      background: var(--bg-card);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.25rem;
    }

    .card-title {
      font-size: 1rem;
      font-weight: 600;
    }

    .card-subtitle {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    /* Tables */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      font-size: 0.875rem;
    }

    th, td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }

    th {
      background: var(--bg-card);
      font-weight: 600;
      color: var(--text-secondary);
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.05em;
    }

    tr:hover td {
      background: var(--bg-card);
    }

    /* Badges */
    .badge {
      display: inline-block;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 500;
    }

    .badge-success {
      background: rgba(34, 197, 94, 0.2);
      color: var(--success);
    }

    .badge-warning {
      background: rgba(245, 158, 11, 0.2);
      color: var(--warning);
    }

    .badge-danger {
      background: rgba(239, 68, 68, 0.2);
      color: var(--danger);
    }

    .badge-info {
      background: rgba(59, 130, 246, 0.2);
      color: var(--accent);
    }

    .badge-neutral {
      background: var(--bg-card);
      color: var(--text-secondary);
    }

    /* Stats */
    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .stat {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.25rem;
      text-align: center;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--accent);
    }

    .stat-label {
      font-size: 0.75rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    /* Code */
    code {
      background: var(--bg-card);
      padding: 0.125rem 0.375rem;
      border-radius: 4px;
      font-family: 'SF Mono', 'Fira Code', monospace;
      font-size: 0.875em;
    }

    pre {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1rem;
      overflow-x: auto;
      font-size: 0.875rem;
      line-height: 1.5;
    }

    pre code {
      background: none;
      padding: 0;
    }

    /* Lists */
    ul, ol {
      margin-left: 1.5rem;
      margin-bottom: 1rem;
    }

    li {
      margin-bottom: 0.5rem;
    }

    /* Architecture diagram */
    .architecture {
      background: var(--bg-card);
      border-radius: 12px;
      padding: 2rem;
      font-family: 'SF Mono', 'Fira Code', monospace;
      font-size: 0.8rem;
      overflow-x: auto;
      white-space: pre;
      line-height: 1.4;
    }

    /* Progress bars */
    .progress-container {
      margin: 1rem 0;
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
      font-size: 0.875rem;
    }

    .progress-bar {
      height: 8px;
      background: var(--bg-card);
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.3s;
    }

    .progress-fill.danger {
      background: var(--danger);
    }

    .progress-fill.warning {
      background: var(--warning);
    }

    .progress-fill.success {
      background: var(--success);
    }

    /* Shortcuts table */
    .shortcut {
      display: inline-flex;
      gap: 0.25rem;
    }

    kbd {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 0.25rem 0.5rem;
      font-family: 'SF Mono', 'Fira Code', monospace;
      font-size: 0.75rem;
    }

    /* Issue list */
    .issue-list {
      list-style: none;
      margin-left: 0;
    }

    .issue-item {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      padding: 1rem;
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 8px;
      margin-bottom: 0.75rem;
    }

    .issue-icon {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      font-size: 0.75rem;
    }

    .issue-icon.high {
      background: rgba(239, 68, 68, 0.2);
      color: var(--danger);
    }

    .issue-icon.medium {
      background: rgba(245, 158, 11, 0.2);
      color: var(--warning);
    }

    .issue-icon.low {
      background: rgba(59, 130, 246, 0.2);
      color: var(--accent);
    }

    .issue-content {
      flex: 1;
    }

    .issue-title {
      font-weight: 600;
      margin-bottom: 0.25rem;
    }

    .issue-desc {
      font-size: 0.875rem;
      color: var(--text-secondary);
    }

    /* Footer */
    footer {
      margin-top: 4rem;
      padding: 2rem 0;
      border-top: 1px solid var(--border);
      text-align: center;
      color: var(--text-muted);
      font-size: 0.875rem;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }

      header .container {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
      }

      .meta {
        text-align: center;
      }

      h1 {
        font-size: 1.5rem;
      }

      .stats {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">
        <div class="logo-icon">FC</div>
        <div>
          <h1>free-cluely Analysis</h1>
          <p class="subtitle">Comprehensive Codebase Research Report</p>
        </div>
      </div>
      <div class="meta">
        <div>Generated: February 18, 2026</div>
        <div>Session: 2026-02-18-free-cluely-analysis</div>
      </div>
    </div>
  </header>

  <nav>
    <ul>
      <li><a href="#overview">Overview</a></li>
      <li><a href="#techstack">Tech Stack</a></li>
      <li><a href="#architecture">Architecture</a></li>
      <li><a href="#capabilities">Capabilities</a></li>
      <li><a href="#dependencies">Dependencies</a></li>
      <li><a href="#security">Security</a></li>
      <li><a href="#issues">Issues</a></li>
      <li><a href="#recommendations">Recommendations</a></li>
    </ul>
  </nav>

  <main class="container">
    <!-- Overview Section -->
    <section id="overview">
      <h2>Overview</h2>

      <div class="stats">
        <div class="stat">
          <div class="stat-value">18</div>
          <div class="stat-label">Runtime Deps</div>
        </div>
        <div class="stat">
          <div class="stat-value">19</div>
          <div class="stat-label">Dev Deps</div>
        </div>
        <div class="stat">
          <div class="stat-value">34</div>
          <div class="stat-label">Vulnerabilities</div>
        </div>
        <div class="stat">
          <div class="stat-value">0%</div>
          <div class="stat-label">Test Coverage</div>
        </div>
        <div class="stat">
          <div class="stat-value">3</div>
          <div class="stat-label">Platforms</div>
        </div>
      </div>

      <div class="card">
        <h3>What is free-cluely?</h3>
        <p>An <strong>Interview Coding Assistant</strong> - a desktop overlay application that helps users during coding interviews by:</p>
        <ol>
          <li>Capturing screenshots of coding problems</li>
          <li>Analyzing them with AI (Google Gemini or local Ollama)</li>
          <li>Generating solutions with explanations</li>
          <li>Providing debug assistance with code diffs</li>
        </ol>
      </div>

      <div class="card-grid">
        <div class="card">
          <div class="card-header">
            <div class="card-icon">P</div>
            <div>
              <div class="card-title">Package Name</div>
              <div class="card-subtitle">Internal identifier</div>
            </div>
          </div>
          <code>interview-coder</code>
        </div>
        <div class="card">
          <div class="card-header">
            <div class="card-icon">N</div>
            <div>
              <div class="card-title">Product Name</div>
              <div class="card-subtitle">Display name</div>
            </div>
          </div>
          <code>Meeting Notes Coder</code>
        </div>
        <div class="card">
          <div class="card-header">
            <div class="card-icon">T</div>
            <div>
              <div class="card-title">App Title</div>
              <div class="card-subtitle">Window title</div>
            </div>
          </div>
          <code>Free Cluely</code>
        </div>
      </div>
    </section>

    <!-- Tech Stack Section -->
    <section id="techstack">
      <h2>Tech Stack</h2>

      <table>
        <thead>
          <tr>
            <th>Layer</th>
            <th>Technology</th>
            <th>Version</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Language</td>
            <td>TypeScript (strict mode)</td>
            <td><span class="badge badge-info">5.6.3</span></td>
          </tr>
          <tr>
            <td>UI Framework</td>
            <td>React + React Query</td>
            <td><span class="badge badge-info">18.3.1</span></td>
          </tr>
          <tr>
            <td>Desktop Shell</td>
            <td>Electron</td>
            <td><span class="badge badge-info">33.2.0</span></td>
          </tr>
          <tr>
            <td>Bundler (renderer)</td>
            <td>Vite + @vitejs/plugin-react</td>
            <td><span class="badge badge-info">5.4.11</span></td>
          </tr>
          <tr>
            <td>Bundler (electron)</td>
            <td>tsc (CommonJS output)</td>
            <td>-</td>
          </tr>
          <tr>
            <td>Styling</td>
            <td>Tailwind CSS + custom liquid glass CSS</td>
            <td><span class="badge badge-info">3.4.15</span></td>
          </tr>
          <tr>
            <td>LLM Providers</td>
            <td>Google Gemini / Ollama</td>
            <td><span class="badge badge-neutral">gemini-2.0-flash</span></td>
          </tr>
          <tr>
            <td>Screenshot</td>
            <td>screenshot-desktop + sharp</td>
            <td><span class="badge badge-info">1.15.0</span></td>
          </tr>
          <tr>
            <td>UI Primitives</td>
            <td>Radix UI (Dialog, Toast)</td>
            <td><span class="badge badge-info">1.1.2</span></td>
          </tr>
          <tr>
            <td>Code Highlighting</td>
            <td>react-syntax-highlighter (Prism/Dracula)</td>
            <td><span class="badge badge-info">15.6.1</span></td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Architecture Section -->
    <section id="architecture">
      <h2>Architecture</h2>

      <h3>Directory Structure</h3>
      <pre><code>free-cluely/
|-- index.html                    # Vite HTML entry point
|-- package.json                  # Root package (electron-builder config)
|-- tsconfig.json                 # Renderer TypeScript config
|-- tailwind.config.js            # Tailwind with custom animations
|
|-- electron/                     # MAIN PROCESS
|   |-- main.ts                   # App entry + AppState singleton
|   |-- ipcHandlers.ts            # All IPC channel registrations
|   |-- preload.ts                # contextBridge -> electronAPI
|   |-- WindowHelper.ts           # BrowserWindow management
|   |-- ScreenshotHelper.ts       # Screenshot capture + queue
|   |-- ProcessingHelper.ts       # Orchestrates LLM calls
|   |-- LLMHelper.ts              # Gemini + Ollama abstraction
|   |-- shortcuts.ts              # Global keyboard shortcuts
|
|-- src/                          # RENDERER PROCESS (React)
|   |-- main.tsx                  # React DOM root mount
|   |-- App.tsx                   # Root component, view router
|   |-- index.css                 # Tailwind + liquid glass CSS
|   |-- _pages/                   # Page components
|   |-- components/               # UI components
|   |-- types/                    # TypeScript interfaces
|   |-- lib/                      # Utilities
|
|-- renderer/                     # UNUSED - legacy CRA scaffold
|-- worker-script/                # UNUSED - Node Worker stub</code></pre>

      <h3>System Architecture</h3>
      <div class="architecture">
Global Shortcuts (shortcuts.ts)
        |
        v
AppState singleton (main.ts)
   |--- WindowHelper (BrowserWindow management)
   |--- ScreenshotHelper (capture + queue: up to 5 screenshots)
   |--- ProcessingHelper (orchestrates LLM pipeline)
         |-- LLMHelper (Gemini API or Ollama HTTP calls)
        |
        v
IPC Handlers (ipcHandlers.ts)
   channels: take-screenshot, get-screenshots, delete-screenshot,
             analyze-audio-base64, analyze-image-file, gemini-chat,
             switch-to-ollama, switch-to-gemini, test-llm-connection...
        |
    contextBridge (preload.ts)
        |
        v
window.electronAPI (renderer/App.tsx + pages)
        |
        v
React View Router (App.tsx)
  "queue"     -> Queue.tsx     (capture + chat + model selector)
  "solutions" -> Solutions.tsx (show LLM output + audio recording)
               -> Debug.tsx    (side-by-side code diff)</div>

      <h3>Data Flow: Screenshot to Solution</h3>
      <div class="card">
        <ol>
          <li>User presses <kbd>Cmd</kbd>+<kbd>H</kbd> (global shortcut)</li>
          <li><code>ScreenshotHelper.takeScreenshot()</code> hides window, captures screen, queues PNG</li>
          <li>IPC sends <code>screenshot-taken</code> event to renderer</li>
          <li><code>Queue.tsx</code> calls <code>analyze-image-file</code> IPC</li>
          <li><code>LLMHelper.analyzeImageFile()</code> sends base64 to Gemini/Ollama</li>
          <li>Result displayed in chat messages</li>
        </ol>
      </div>
    </section>

    <!-- Capabilities Section -->
    <section id="capabilities">
      <h2>Capabilities</h2>

      <div class="card-grid">
        <div class="card">
          <div class="card-header">
            <div class="card-icon">S</div>
            <div>
              <div class="card-title">Screenshot Capture</div>
              <div class="card-subtitle">Core feature</div>
            </div>
          </div>
          <ul>
            <li>Global hotkey trigger</li>
            <li>Auto-hide window during capture</li>
            <li>Queue up to 5 screenshots</li>
            <li>Separate debug screenshot queue</li>
          </ul>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-icon">AI</div>
            <div>
              <div class="card-title">AI Analysis</div>
              <div class="card-subtitle">LLM integration</div>
            </div>
          </div>
          <ul>
            <li>Google Gemini 2.0 Flash (cloud)</li>
            <li>Ollama (local, optional)</li>
            <li>Runtime provider switching</li>
            <li>Image + audio + text analysis</li>
          </ul>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-icon">C</div>
            <div>
              <div class="card-title">Code Solutions</div>
              <div class="card-subtitle">Output generation</div>
            </div>
          </div>
          <ul>
            <li>Problem extraction from images</li>
            <li>Working code implementation</li>
            <li>Complexity analysis</li>
            <li>Step-by-step thoughts</li>
          </ul>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-icon">D</div>
            <div>
              <div class="card-title">Debug Mode</div>
              <div class="card-subtitle">Error correction</div>
            </div>
          </div>
          <ul>
            <li>Additional error screenshots</li>
            <li>Solution comparison</li>
            <li>Side-by-side code diff</li>
            <li>Line-by-line analysis</li>
          </ul>
        </div>
      </div>

      <h3>Global Keyboard Shortcuts</h3>
      <table>
        <thead>
          <tr>
            <th>Shortcut</th>
            <th>Action</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><span class="shortcut"><kbd>Cmd</kbd>+<kbd>Shift</kbd>+<kbd>Space</kbd></span></td>
            <td>Show and center window</td>
            <td><span class="badge badge-success">Working</span></td>
          </tr>
          <tr>
            <td><span class="shortcut"><kbd>Cmd</kbd>+<kbd>H</kbd></span></td>
            <td>Take screenshot</td>
            <td><span class="badge badge-success">Working</span></td>
          </tr>
          <tr>
            <td><span class="shortcut"><kbd>Cmd</kbd>+<kbd>Enter</kbd></span></td>
            <td>Process screenshots through LLM</td>
            <td><span class="badge badge-success">Working</span></td>
          </tr>
          <tr>
            <td><span class="shortcut"><kbd>Cmd</kbd>+<kbd>R</kbd></span></td>
            <td>Reset: cancel requests, clear queues</td>
            <td><span class="badge badge-success">Working</span></td>
          </tr>
          <tr>
            <td><span class="shortcut"><kbd>Cmd</kbd>+<kbd>B</kbd></span></td>
            <td>Toggle show/hide window</td>
            <td><span class="badge badge-success">Working</span></td>
          </tr>
          <tr>
            <td><span class="shortcut"><kbd>Cmd</kbd>+<kbd>Arrow</kbd></span></td>
            <td>Move window</td>
            <td><span class="badge badge-danger">Broken</span></td>
          </tr>
        </tbody>
      </table>

      <h3>UI Views</h3>
      <table>
        <thead>
          <tr>
            <th>View</th>
            <th>Purpose</th>
            <th>Components</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Queue</strong></td>
            <td>Screenshot capture, chat, model selection</td>
            <td>QueueCommands, ScreenshotQueue, ModelSelector</td>
          </tr>
          <tr>
            <td><strong>Solutions</strong></td>
            <td>Problem display, solution code, complexity</td>
            <td>SolutionCommands, code display</td>
          </tr>
          <tr>
            <td><strong>Debug</strong></td>
            <td>Side-by-side diff comparison</td>
            <td>Nested in Solutions, diff visualization</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Dependencies Section -->
    <section id="dependencies">
      <h2>Dependencies</h2>

      <h3>By Category</h3>

      <h4>Electron / Desktop</h4>
      <table>
        <thead>
          <tr>
            <th>Package</th>
            <th>Version</th>
            <th>Purpose</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>electron</code></td>
            <td>^33.2.0</td>
            <td>Desktop app runtime</td>
          </tr>
          <tr>
            <td><code>electron-builder</code></td>
            <td>^25.1.8</td>
            <td>Cross-platform packaging</td>
          </tr>
          <tr>
            <td><code>vite-plugin-electron</code></td>
            <td>^0.28.8</td>
            <td>Vite + Electron integration</td>
          </tr>
        </tbody>
      </table>

      <h4>AI / Machine Learning</h4>
      <table>
        <thead>
          <tr>
            <th>Package</th>
            <th>Version</th>
            <th>Purpose</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>@google/genai</code></td>
            <td>^0.12.0</td>
            <td>Gemini SDK (newer)</td>
            <td><span class="badge badge-warning">Outdated</span></td>
          </tr>
          <tr>
            <td><code>@google/generative-ai</code></td>
            <td>^0.2.1</td>
            <td>Gemini SDK (older)</td>
            <td><span class="badge badge-danger">Redundant</span></td>
          </tr>
          <tr>
            <td><code>tesseract.js</code></td>
            <td>^5.0.5</td>
            <td>OCR</td>
            <td><span class="badge badge-warning">Outdated</span></td>
          </tr>
        </tbody>
      </table>

      <h4>HTTP / Data</h4>
      <table>
        <thead>
          <tr>
            <th>Package</th>
            <th>Version</th>
            <th>Purpose</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>axios</code></td>
            <td>^1.7.7</td>
            <td>HTTP client</td>
            <td><span class="badge badge-danger">Vulnerable</span></td>
          </tr>
          <tr>
            <td><code>react-query</code></td>
            <td>^3.39.3</td>
            <td>Server state</td>
            <td><span class="badge badge-danger">EOL</span></td>
          </tr>
        </tbody>
      </table>

      <h3>Outdated Packages (Major Version Gaps)</h3>
      <table>
        <thead>
          <tr>
            <th>Package</th>
            <th>Current</th>
            <th>Latest</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>react-query</code></td>
            <td>^3.39.3</td>
            <td>5.x</td>
            <td>EOL, renamed to @tanstack/react-query</td>
          </tr>
          <tr>
            <td><code>@google/genai</code></td>
            <td>^0.12.0</td>
            <td>1.41.0</td>
            <td>Major API changes</td>
          </tr>
          <tr>
            <td><code>react</code></td>
            <td>^18.3.1</td>
            <td>19.x</td>
            <td>React 19 available</td>
          </tr>
          <tr>
            <td><code>tesseract.js</code></td>
            <td>^5.0.5</td>
            <td>7.0.0</td>
            <td>Breaking API changes</td>
          </tr>
          <tr>
            <td><code>uuid</code></td>
            <td>^11.0.3</td>
            <td>13.0.0</td>
            <td>Major version gap</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Security Section -->
    <section id="security">
      <h2>Security Analysis</h2>

      <div class="stats">
        <div class="stat">
          <div class="stat-value" style="color: var(--danger);">34</div>
          <div class="stat-label">Total Vulnerabilities</div>
        </div>
        <div class="stat">
          <div class="stat-value" style="color: var(--danger);">13</div>
          <div class="stat-label">High Severity</div>
        </div>
        <div class="stat">
          <div class="stat-value" style="color: var(--warning);">20</div>
          <div class="stat-label">Moderate</div>
        </div>
        <div class="stat">
          <div class="stat-value" style="color: var(--accent);">1</div>
          <div class="stat-label">Low</div>
        </div>
      </div>

      <h3>Critical Vulnerabilities</h3>
      <table>
        <thead>
          <tr>
            <th>Package</th>
            <th>Severity</th>
            <th>Vulnerability</th>
            <th>Fix</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>axios</code></td>
            <td><span class="badge badge-danger">HIGH</span></td>
            <td>DoS + Prototype pollution</td>
            <td>Upgrade to >=1.13.5</td>
          </tr>
          <tr>
            <td><code>tar</code></td>
            <td><span class="badge badge-danger">HIGH</span></td>
            <td>Path traversal, symlink poisoning</td>
            <td>electron-builder@26.7.0</td>
          </tr>
          <tr>
            <td><code>jws</code></td>
            <td><span class="badge badge-danger">HIGH</span></td>
            <td>Improper HMAC signature verification</td>
            <td>npm audit fix</td>
          </tr>
          <tr>
            <td><code>ajv</code></td>
            <td><span class="badge badge-warning">MODERATE</span></td>
            <td>ReDoS via $data option</td>
            <td>npm audit fix --force</td>
          </tr>
          <tr>
            <td><code>prismjs</code></td>
            <td><span class="badge badge-warning">MODERATE</span></td>
            <td>DOM Clobbering</td>
            <td><span class="badge badge-danger">No fix</span></td>
          </tr>
        </tbody>
      </table>

      <h3>Security Configuration</h3>
      <div class="card">
        <h4>Electron Security Settings</h4>
        <table>
          <tbody>
            <tr>
              <td><code>contextIsolation</code></td>
              <td><span class="badge badge-success">true</span></td>
              <td>Renderer isolated from main</td>
            </tr>
            <tr>
              <td><code>nodeIntegration</code></td>
              <td><span class="badge badge-warning">true</span></td>
              <td>Redundant with contextIsolation</td>
            </tr>
            <tr>
              <td><code>setContentProtection</code></td>
              <td><span class="badge badge-success">true</span></td>
              <td>Window invisible to screen capture</td>
            </tr>
            <tr>
              <td>API Key Storage</td>
              <td><span class="badge badge-success">env vars</span></td>
              <td>No hardcoded secrets</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Issues Section -->
    <section id="issues">
      <h2>Issues Found</h2>

      <h3>Bugs</h3>
      <ul class="issue-list">
        <li class="issue-item">
          <div class="issue-icon high">!</div>
          <div class="issue-content">
            <div class="issue-title">Window Movement Broken</div>
            <div class="issue-desc">In <code>WindowHelper.ts</code>, the <code>step</code> property is initialized to 0 and never updated, making arrow key window movement a no-op.</div>
          </div>
        </li>
        <li class="issue-item">
          <div class="issue-icon high">!</div>
          <div class="issue-content">
            <div class="issue-title">AbortController Not Wired</div>
            <div class="issue-desc">In <code>ProcessingHelper.ts</code>, AbortController is created but the abort signal is never passed to fetch calls in LLMHelper, making cancellation ineffective.</div>
          </div>
        </li>
      </ul>

      <h3>Technical Debt</h3>
      <ul class="issue-list">
        <li class="issue-item">
          <div class="issue-icon medium">~</div>
          <div class="issue-content">
            <div class="issue-title">Dual Google AI SDKs</div>
            <div class="issue-desc">Both <code>@google/genai</code> and <code>@google/generative-ai</code> are installed. The older one should be removed.</div>
          </div>
        </li>
        <li class="issue-item">
          <div class="issue-icon medium">~</div>
          <div class="issue-content">
            <div class="issue-title">React Query EOL</div>
            <div class="issue-desc"><code>react-query</code> v3 is past end-of-life. Should migrate to <code>@tanstack/react-query</code> v5.</div>
          </div>
        </li>
        <li class="issue-item">
          <div class="issue-icon medium">~</div>
          <div class="issue-content">
            <div class="issue-title">Mixed Package Manager</div>
            <div class="issue-desc">Both <code>package-lock.json</code> and <code>pnpm-lock.yaml</code> exist, causing potential inconsistencies.</div>
          </div>
        </li>
        <li class="issue-item">
          <div class="issue-icon low">i</div>
          <div class="issue-content">
            <div class="issue-title">Unused Code</div>
            <div class="issue-desc">The <code>/renderer/</code> directory (legacy CRA scaffold) and <code>/worker-script/</code> (stub) are not part of the build.</div>
          </div>
        </li>
      </ul>

      <h3>Code Quality</h3>
      <ul class="issue-list">
        <li class="issue-item">
          <div class="issue-icon medium">~</div>
          <div class="issue-content">
            <div class="issue-title">No Test Coverage</div>
            <div class="issue-desc">Zero test files found in the main codebase. Only a stock CRA test exists in the unused <code>/renderer/</code> directory.</div>
          </div>
        </li>
        <li class="issue-item">
          <div class="issue-icon medium">~</div>
          <div class="issue-content">
            <div class="issue-title">Any Types in IPC</div>
            <div class="issue-desc">Multiple IPC type signatures use <code>any</code>, defeating TypeScript's benefits at the IPC boundary.</div>
          </div>
        </li>
        <li class="issue-item">
          <div class="issue-icon low">i</div>
          <div class="issue-content">
            <div class="issue-title">Console.log Statements</div>
            <div class="issue-desc">Debug logging statements found throughout the codebase, violating coding style rules.</div>
          </div>
        </li>
        <li class="issue-item">
          <div class="issue-icon low">i</div>
          <div class="issue-content">
            <div class="issue-title">No Error Boundaries</div>
            <div class="issue-desc">React error boundaries are not implemented. Uncaught render errors will crash the entire UI.</div>
          </div>
        </li>
        <li class="issue-item">
          <div class="issue-icon low">i</div>
          <div class="issue-content">
            <div class="issue-title">State Duplication</div>
            <div class="issue-desc">In <code>Solutions.tsx</code>, solution data is stored in both React Query cache and separate useState variables.</div>
          </div>
        </li>
      </ul>
    </section>

    <!-- Recommendations Section -->
    <section id="recommendations">
      <h2>Recommendations</h2>

      <h3>Immediate Actions (High Priority)</h3>
      <div class="card">
        <ol>
          <li><strong>Fix axios vulnerability</strong> - Upgrade to >=1.13.5 (security fix)</li>
          <li><strong>Fix window movement bug</strong> - Set <code>step</code> to a non-zero value in WindowHelper.ts</li>
          <li><strong>Wire AbortController</strong> - Pass abort signal to fetch calls for proper cancellation</li>
          <li><strong>Remove dual lock files</strong> - Choose npm or pnpm, delete the other</li>
        </ol>
      </div>

      <h3>Short-term Improvements</h3>
      <div class="card">
        <ol>
          <li><strong>Remove redundant packages</strong>
            <ul>
              <li>Remove <code>@google/generative-ai</code> (keep <code>@google/genai</code>)</li>
              <li>Remove <code>react-code-blocks</code> (redundant with react-syntax-highlighter)</li>
            </ul>
          </li>
          <li><strong>Add error boundaries</strong> - Prevent full UI crashes on render errors</li>
          <li><strong>Type IPC properly</strong> - Replace <code>any</code> types with proper interfaces</li>
          <li><strong>Remove console.log statements</strong> - Use proper logging or remove</li>
          <li><strong>Delete unused code</strong> - Remove <code>/renderer/</code> and <code>/worker-script/</code></li>
        </ol>
      </div>

      <h3>Long-term Upgrades</h3>
      <div class="card">
        <ol>
          <li><strong>Migrate react-query v3 to @tanstack/react-query v5</strong> - Package rename + API changes</li>
          <li><strong>Upgrade @google/genai to v1.x</strong> - Major SDK overhaul</li>
          <li><strong>Add test coverage</strong> - Target 80% minimum</li>
          <li><strong>Set nodeIntegration to false</strong> - Align with Electron security best practices</li>
          <li><strong>Consider React 19 upgrade</strong> - When stable and dependencies support it</li>
        </ol>
      </div>

      <h3>Environment Configuration Reference</h3>
      <table>
        <thead>
          <tr>
            <th>Variable</th>
            <th>Purpose</th>
            <th>Default</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>GEMINI_API_KEY</code></td>
            <td>Google Gemini API key</td>
            <td>Required</td>
          </tr>
          <tr>
            <td><code>USE_OLLAMA</code></td>
            <td>Enable local Ollama backend</td>
            <td><code>false</code></td>
          </tr>
          <tr>
            <td><code>OLLAMA_MODEL</code></td>
            <td>Ollama model name</td>
            <td>Auto-detect</td>
          </tr>
          <tr>
            <td><code>OLLAMA_URL</code></td>
            <td>Ollama server URL</td>
            <td><code>http://localhost:11434</code></td>
          </tr>
        </tbody>
      </table>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>Generated by Claude Code | Session: 2026-02-18-free-cluely-analysis</p>
      <p>Research artifacts available in <code>plans/sessions/2026-02-18-free-cluely-analysis/research/</code></p>
    </div>
  </footer>
</body>
</html>
